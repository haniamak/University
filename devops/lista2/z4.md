## Przeanalizuj poniższe fragmenty Dockerfile i wyjaśnij, jakie nieoczekiwane zachowania mogą w nich wystąpić:

```
FROM ubuntu:22.04
RUN apt-get update
RUN apt-get install -y curl
FROM alpine
ENV ADMIN_USER="mark"
RUN echo $ADMIN_USER > ./mark
RUN unset ADMIN_USER
```

- Wszystkie polecenia wykonane w etapie ubuntu są utracone; wykoujemy multistage niepoprawnie.
- update i install najlepiej zrobic to w jednej warstwie.
- Alpine to zupełnie inna dystrybucja - nie ma tam nawet pakietu apt-get tylko apk.
- Wartość zmiennej ADMIN_USER nie zostanie usunięta z obrazu, ponieważ każda instrukcja RUN jest wykonywana w nowej warstwie obrazu. Dlatego unset nie ma wpływu na warstwę, w której została ustawiona zmienna środowiskowa.
- Plik ./mark będzie zawierał wartość "mark", ale zmienna ADMIN_USER nadal będzie istnieć
- Plik zostanie utworzony w katalogu roboczym obrazu Alpine (domyślnie /). Może to powodować problemy z uprawnieniami lub organizacją plików

```
FROM alpine
apk update && apk add curl
RUN adduser -D mark
```
## użycie zmiennej tymczasowej
```
RUN ADMIN_USER="mark" && \
    echo $ADMIN_USER > /home/mark/username && \
    unset ADMIN_USER
```
## użycie ARG dla build-time variables
```
ARG ADMIN_USER="mark"
RUN echo $ADMIN_USER > /home/mark/username
```

